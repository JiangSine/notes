# 类加载体系

## 概述
首先简单介绍下Java虚拟机规范中提到的主要类加载器：
- Bootstrap Loader：加载lib目录下或者System.getProperty(“sun.boot.class.path”)、或者-XBootclasspath所指定的路径或jar。
- Extended Loader：加载lib\ext目录下或者System.getProperty(“java.ext.dirs”) 所指定的 路径或jar。在使用Java运行程序时，也可以指定其搜索路径，例如：java -Djava.ext.dirs=d:\projects\testproj\classes HelloWorld。
- AppClass Loader：加载System.getProperty("java.class.path")所指定的 路径或jar。在使用Java运行程序时，也可以加上-cp来覆盖原有的Classpath设置，例如： java -cp ./lavasoft/classes HelloWorld。

凡是能通过父一级类加载器加载到的类，对于子类也是可见的。因此可以利用双亲委派模式的特性，使用类加载器对不同路径下的jar包或者类进行环境隔离。

![Tomcat 下整体类加载体系结构][1]

这里结合之前对双亲委派模式的类加载过程的描述，对上图所示类加载体系进行介绍：
- ClassLoader：Java提供的类加载器抽象类，用户自定义的类加载器需要继承实现
- commonLoader：Tomcat最基本的类加载器，加载路径中的class可以被Tomcat容器本身以及各个Webapp访问。
- catalinaLoader：Tomcat容器私有的类加载器，加载路径中的class对于Webapp不可见。
- sharedLoader：各个Webapp共享的类加载器，加载路径中的class对于所有Webapp可见，但是对于Tomcat容器不可见。
- WebappClassLoader：各个Webapp私有的类加载器，加载路径中的class只对当前Webapp可见。






















































[1]:https://upload-images.jianshu.io/upload_images/6715251-b21326fe843cce9c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/700
this
